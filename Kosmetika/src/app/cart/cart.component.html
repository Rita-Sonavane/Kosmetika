<app-title title="My Cart" margin="1.5rem 0 0 2.5rem" style="font-family: Raleway;"></app-title>


<!-- Page Header End -->
<ng-container *ngIf="cart.items.length !==0">
    <div class="card">
        <div class="row">
            <div class="col-md-8 cart">
                <div class="title">
                    <div class="row">
                        <div class="col">
                            <h4><b>Shopping Cart</b></h4>
                        </div>
                        <div class="col align-self-center text-right text-muted" *ngIf="cartQuantity">{{cartQuantity}}
                            items</div>
                    </div>
                </div>
                <div class="row border-top border-bottom" *ngFor="let cartItem of cart.items; let i= index">
                    <div class="row main align-items-center">
                        <div class="col-2"><img class="img-fluid" [src]="cartItem.product.imageUrl"
                                [alt]="cartItem.product.name"></div>
                        <div class="col">
                            <!-- <div class="row text-muted">Shirt</div> -->
                            <div class="row"> <a  routerLink="." (click)="getProductDetailRoute(cartItem)"
                                    style="font-size: 12px;">
                                    <!-- {{cartItem.product[i]}} -->
                                    {{cartItem.product.name}} 
                                </a>
                            </div>
                        </div>
                        <div class="col">
                            <!-- <a href="#" (click)="decrementQuantity(cartItem)">-</a>
                            <a class="border">{{cartItem.quantity}}</a>
                            <a href="#" (click)="incrementQuantity(cartItem)">+</a> -->

                            <select #quantitySelect [value]="cartItem.quantity"
                                (change)="changeQuantity(cartItem, quantitySelect.value)">
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5</option>
                            </select>
                        </div>
                        <!-- <span class="close">&#10005;</span> -->
                        <div class="col">{{cartItem.price | currency:'INR':'symbol-narrow':'4.2-2' }}
                        </div>
                        <div class="col">
                            <button class="btn px-3" (click)="removeFromCart(cartItem)"
                                style="color: #D19C97;background-color: none !important;"><i class="fa fa-trash mr-1"
                                    title="Remove"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="back-to-shop"><a routerLink="/">&leftarrow;&nbsp;<span class="text-muted">Back to
                            shop</span> </a></div>

            </div>


            <!-- </div>

        <div class="row"> -->
            <!-- <div class="col-md-6" style="background-color: none !important;"></div> -->

            <div class="col-md-4 summary">
                <div>
                    <h5><b>Summary</b></h5>
                </div>
                <hr>
                <div class="row">
                    <div class="col">ITEMS </div>
                    <div class="col text-right">{{cart.totalCount}}</div>
                </div>
                <!-- <form>
                    <p>SHIPPING</p>
                    <select><option class="text-muted">Standard-Delivery- &euro;5.00</option></select>
                    <p>GIVE CODE</p>
                    <input id="code" placeholder="Enter your code">
                </form> -->
                <div class="row" style="border-top: 1px solid rgba(0,0,0,.1); padding: 2vh 0;">
                    <div class="col">TOTAL PRICE</div>
                    <div class="col text-right">{{cart.totalPrice}}</div>
                </div>
                <!-- <button class="btns">Proceed</button> -->
                <a routerLink="/checkout" style="color: #D19C97;">Proceed</a>
            </div>
        </div>
    </div>
</ng-container>






<ng-container *ngIf="cart.items.length ==0">
    <!-- <div class="container"> -->
    <div class="card cart-page">
        <!-- <h5 class="card-title">My Cart</h5> -->
    </div>
    <div class="center">
        <img src="https://rukminim1.flixcart.com/www/800/800/promos/16/05/2019/d438a32e-765a-4d8b-b4a6-520b560971e8.png?q=90"
            alt="">
        <h4>Your cart is empty!</h4>
        <h6>Add item to it now</h6>
        <button routerLink="/home" class="btn btn-primary" style="background-color: #D19C97;border-color: #D19C97;">Shop
            Now</button>
    </div>
    <!-- </div> -->
</ng-container>